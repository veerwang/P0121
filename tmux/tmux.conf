#
#  重新进行tmux的配置与设置
#
#	  created by kevin
#
#		2020.06.20
#

# set terminal as 256 colors mode 
set -g default-terminal "tmux-256color"
# Add truecolor support
set-option -ga terminal-overrides ",*256col*:Tc"
# Set status position at bottom of screen
set-option -g status-position bottom

# set tmux status bar color
set -g status-fg white 
set -g status-bg blue
set-window-option -g window-status-current-format "#[fg=blue, bg=white]⮀#[fg=blue, bg=white] #I #W #[fg=white, bg=blue]⮀"
set-option -g status-left "#[bg=blue] #[bg=blue]#[bg=blue]#[fg=white,bg=blue]🌺  S:#S #[fg=white,bg=blue] 💻  #h  #[bg=blue]#[bg=blue]#[fg=white,bg=blue]🐳 #(uptime -p)"
set-option -g status-right "#[bg=blue] #[bg=blue]#[bg=blue]#[fg=white,bg=blue] #(date '+%A %m-%d %H:%M') "

#set message style
set-option -g message-bg blue
set-option -g message-fg white

# set hilight
set -g pane-border-style fg=white

# set tmux status font-set
set -g status-utf8 on
set -g status-interval 6
set -g status-justify "centre"
set -g status-left-length 100 
set -g status-right-length 100 
setw -g clock-mode-style 24

# set tmux title 
set -g set-titles on
set -g set-titles-string '#h ❐ #S ● #I #W'

# display time each 5 seconds
set-option -g display-time 5000 

# set roll-back cmd history to 10000
set -g history-limit 10000

# set windows index and panel start from 1 
set -g base-index 1
set -g pane-base-index 1

# enable clipboard
set -g set-clipboard on

# tmux operator enter vi mode
setw -g mode-keys vi

# set shortcut for tmux
set-option -g prefix C-a

# set default shell
set -g default-shell /usr/bin/zsh

# tmux window and panel operator
unbind '"'
bind - split-window -v -c "#{pane_current_path}"
unbind %
bind | split-window -h -c "#{pane_current_path}"

# operator tmux tab label
bind -n s-up neww
bind -n s-down confirm-before -p "Close the window? #W? (y/n)" kill-window
bind -n s-left prev
bind -n s-right next

# adjust panel size 
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# edit tmux.conf configuration in a new window
bind e new-window -n '~/.tmux.conf' "sh -c '\${EDITOR:-vim} ~/.tmux.conf && tmux source ~/.tmux.conf && tmux display \"~/.tmux.conf sourced\"'"
# after edit reload config
bind r source-file ~/.tmux.conf \; display-message "Tmux Config File Reloaded..."
# create new session
bind X new-session
